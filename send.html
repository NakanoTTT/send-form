<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>å–¶æ¥­ãƒ‡ãƒ¼ã‚¿ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯é€ä¿¡</title>
</head>
<body>
  <h2>å–¶æ¥­ãƒ‡ãƒ¼ã‚¿ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯é€ä¿¡</h2>

  <textarea id="jsonInput" rows="20" cols="80" placeholder="ChatGPTã‹ã‚‰å‡ºåŠ›ã•ã‚ŒãŸJSONã‚’ãã®ã¾ã¾è²¼ã‚Šä»˜ã‘ã¦ãã ã•ã„"></textarea>
  <br><br>
  <button onclick="sendData()">ğŸš€ é€ä¿¡ã™ã‚‹ï¼</button>

  <p id="result"></p>

  <script>
    async function sendData() {
      const url = "https://script.google.com/macros/s/AKfycbxqD8HizldCdCLKI5RknT6v6R5twOdMD9lyHOiYfT_OLOTkg_MTfMf3AOM6rjfGoyzONw/exec"; // ã‚ãªãŸã®Webhook URLã‚’ã“ã“ã«ï¼

      const jsonText = document.getElementById('jsonInput').value.trim();

      if (!jsonText.startsWith('{') || !jsonText.endsWith('}')) {
        document.getElementById('result').innerText = 'âŒ JSONå½¢å¼ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“';
        return;
      }

      const formData = new FormData();
      formData.append("data", jsonText);

      try {
        const response = await fetch(url, {
          method: 'POST',
          body: formData
        });

        if (response.ok) {
          document.getElementById('result').innerText = 'âœ… æˆåŠŸã—ã¾ã—ãŸï¼';
          document.getElementById('jsonInput').value = ''; // æˆåŠŸã—ãŸã‚‰ã‚¯ãƒªã‚¢
        } else {
          document.getElementById('result').innerText = 'âŒ ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿ: ' + response.status;
        }
      } catch (error) {
        document.getElementById('result').innerText = 'âŒ ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼: ' + error;
      }
    }
  </script>

</body>
</html>
